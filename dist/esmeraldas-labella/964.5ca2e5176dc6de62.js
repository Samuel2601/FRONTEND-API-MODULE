"use strict";(self.webpackChunkesmeraldas_labella=self.webpackChunkesmeraldas_labella||[]).push([[964],{3964:(bt,y,t)=>{t.r(y),t.d(y,{SignupModule:()=>jt});var C=t(6708),u=t(1761),T=t(4516),f=t(4178),$=t(9412),P=t(2648),s=t(7076),e=t(9573),U=t(7085),F=t(2353),Y=t(9033),X=t(7810),g=t(8378),x=t(2440),E=t(9465),j=t(7403),S=t(7356),b=t(719),R=t(7793),I=t(7228),M=t(1389),G=t(1981),L=t(4961);const A=()=>({width:"50vw"});function N(n,p){if(1&n&&(e.j41(0,"div")(1,"p-tag",41)(2,"div",42),e.nrm(3,"i",43),e.j41(4,"span",44),e.EFF(5),e.k0s()()()()),2&n){const a=e.XpG();e.R7$(5),e.JRh(a.getErrorMessage("name"))}}function z(n,p){if(1&n&&(e.j41(0,"div")(1,"p-tag",41)(2,"div",42),e.nrm(3,"i",43),e.j41(4,"span",44),e.EFF(5),e.k0s()()()()),2&n){const a=e.XpG();e.R7$(5),e.JRh(a.getErrorMessage("last_name"))}}function D(n,p){if(1&n&&(e.j41(0,"div")(1,"p-tag",41)(2,"div",42),e.nrm(3,"i",43),e.j41(4,"span",44),e.EFF(5),e.k0s()()()()),2&n){const a=e.XpG();e.R7$(5),e.JRh(a.getErrorMessage("telf"))}}function J(n,p){if(1&n&&(e.j41(0,"div")(1,"p-tag",41)(2,"div",42),e.nrm(3,"i",43),e.j41(4,"span",44),e.EFF(5),e.k0s()()()()),2&n){const a=e.XpG();e.R7$(5),e.JRh(a.getErrorMessage("email"))}}function V(n,p){if(1&n&&(e.j41(0,"div")(1,"p-tag",41)(2,"div",42),e.nrm(3,"i",43),e.j41(4,"span",44),e.EFF(5),e.k0s()()()()),2&n){const a=e.XpG();e.R7$(5),e.JRh(a.getErrorMessage("password"))}}function B(n,p){if(1&n&&(e.j41(0,"div")(1,"p-tag",41)(2,"div",42),e.nrm(3,"i",43),e.j41(4,"span",44),e.EFF(5),e.k0s()()()()),2&n){const a=e.XpG();e.R7$(5),e.JRh(a.getErrorMessage("passwordConfirmation"))}}let O=(()=>{class n{constructor(a,r,i,o,l,v,h,c){this.router=a,this.formBuilder=r,this.admin=i,this.messageService=o,this.helper=l,this.create=v,this.dialogService=h,this.ref=c,this.validationMessages={dni:[{type:"required",message:"La c\xe9dula es requerida."},{type:"minlength",message:"La c\xe9dula debe tener 10 caracteres."},{type:"maxlength",message:"La c\xe9dula debe tener 10 caracteres."},{type:"pattern",message:"La c\xe9dula debe contener solo n\xfameros."}],name:[{type:"required",message:"El nombre es requerido."},{type:"pattern",message:"El nombre debe contener solo letras."}],last_name:[{type:"required",message:"El nombre es requerido."},{type:"pattern",message:"El nombre debe contener solo letras."}],telf:[{type:"required",message:"El tel\xe9fono es requerido."},{type:"minlength",message:"El tel\xe9fono debe tener 10 caracteres."},{type:"maxlength",message:"El tel\xe9fono debe tener 10 caracteres."},{type:"pattern",message:"El tel\xe9fono debe contener solo n\xfameros."}],email:[{type:"invalido",message:"Correo electronico ya registrado"},{type:"required",message:"El email electr\xf3nico es requerido."},{type:"email",message:"Ingrese un email electr\xf3nico v\xe1lido."}],password:[{type:"required",message:"La contrase\xf1a es requerida."},{type:"minlength",message:"La contrase\xf1a debe tener al menos 4 caracteres."}],passwordConfirmation:[{type:"required",message:"La contrase\xf1a es requerida."},{type:"minlength",message:"La contrase\xf1a debe tener al menos 4 caracteres."}]},this.checked=null,this.visible=!1,this.load_imagen=!0,this.formulario={},this.active=0,this.formulario=this.formBuilder.group({name:["",[s.k0.required,s.k0.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa ]+$")]],last_name:["",[s.k0.required,s.k0.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa ]+$")]],telf:["",[s.k0.required,s.k0.minLength(10),s.k0.maxLength(10),s.k0.pattern("^[0-9]+$")]],email:["",[s.k0.required,this.customEmailValidator()]],password:["",[s.k0.required,s.k0.minLength(4)]],passwordConfirmation:["",[s.k0.required,s.k0.minLength(4)]],checked:[!1]}),this.formulario.get("dni")?.valueChanges.subscribe(d=>{this.formulario.get("dni")?.valid&&this.consultar(d)}),this.formulario.get("email").valueChanges.subscribe(d=>{const St=d.replace(/\s/g,"").toLowerCase();this.formulario.patchValue({email:St},{emitEvent:!1})})}customEmailValidator(){return a=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a.value)?null:{invalidEmail:!0}}getErrorMessage(a){const r=this.formulario.get(a);if(!r||!r.errors)return"";const i=[];for(const o in r.errors)if(r.errors.hasOwnProperty(o)){const l=this.validationMessages[a].find(v=>v.type===o);l&&i.push(l.message)}return i.join("\n")}ver(){}consultar(a){this.visible=!0,this.admin.getCiudadano(a).subscribe(r=>{setTimeout(()=>{this.visible=!1,r.name&&(this.formulario.get("name")?.setValue(r.name),this.formulario.get("name")?.disable())},1e3)},r=>{this.visible=!1,this.formulario.get("name")?.setValue(""),this.formulario.get("name")?.enable(),this.messageService.add({severity:"error",summary:("("+r.status+")").toString(),detail:r.error.message+": "+this.formulario.get("dni")?.value||"Sin conexi\xf3n"}),this.formulario.get("dni")?.setValue("")})}llamarmodal(){this.ref=this.dialogService.open($.W,{header:"Politicas y Privacidad de Esmeraldas la Bella",dismissableMask:!0,width:this.isMobil()?"100%":"70%"}),P.q.addListener("backButton",a=>{this.ref.close()})}consultarcorreo(a){this.visible=!0,this.admin.verificarCorreo(a).subscribe(r=>{r&&(this.messageService.add({severity:"error",summary:"Invalido",detail:"Correo electronico ya existente"}),this.formulario.get("email")?.setErrors({invalido:!0,type:"duplicidad"})),setTimeout(()=>{this.visible=!1},1e3)})}registrarse(){this.visible=!0,this.formulario.valid?(this.formulario.get("name")?.enable(),this.create.registrarUsuario(this.formulario.value).subscribe(a=>{console.log(a),this.messageService.add({severity:"success",summary:"Excelente",detail:"Registrado Correctamente"}),setTimeout(()=>{this.router.navigate(["/auth/login"],{queryParams:{correo:this.formulario.get("email").value,password:this.formulario.get("password").value}})},1e3)},a=>{console.error(a),this.messageService.add({severity:"error",summary:("("+a.status+")").toString(),detail:a.error.message||"Sin conexi\xf3n"})})):this.messageService.add({severity:"error",summary:"Invalido",detail:"Rellene todos los campos"}),setTimeout(()=>{this.visible=!1},1e3)}isMobil(){return this.helper.isMobil()}onFilesSelected(a){if(a.files.length>0){const i=URL.createObjectURL(a.files[0]);this.imagenesSeleccionadas=i,this.load_imagen=!1,this.messageService.add({severity:"info",summary:"File Uploaded",detail:"Imagen subida"})}}tomarFotoYEnviar(a){var r=this;return(0,T.A)(function*(){const i=yield f.i7.getPhoto({quality:90,allowEditing:!1,resultType:f.LK.Base64,source:f.ru.Prompt,promptLabelPhoto:"Seleccionar de la galer\xeda",promptLabelPicture:"Tomar foto"});if(i&&i.base64String){const o=atob(i.base64String),l=new Array(o.length);for(let m=0;m<o.length;m++)l[m]=o.charCodeAt(m);const v=new Uint8Array(l),h=new Blob([v],{type:"image/jpeg"});let c=new File([h],"prueba",{type:"image/jpeg"});r.selectedFiles=c;const d=new FileReader;d.onload=m=>{r.imagenesSeleccionadas=m.target.result},d.readAsDataURL(c)}else r.messageService.add({severity:"warning",summary:"MAX img",detail:"Solo puede enviar 3 imangenes"})})()}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(u.Ix),e.rXU(s.ok),e.rXU(U.z),e.rXU(F.bg),e.rXU(Y.w),e.rXU(X.m),e.rXU(g.o3),e.rXU(g.Pw))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-signup"]],decls:86,vars:17,consts:[[1,"px-4","py-8","md:px-6","lg:px-8",2,"background","url('assets/signin.jpg') no-repeat","background-size","cover"],[1,"flex","flex-wrap"],[1,"w-full","lg:w-6","p-4","lg:p-7","surface-card"],[3,"ngSubmit","formGroup"],[1,"flex","flex-column","gap-2","mx-auto",2,"min-height","20rem","max-width","30rem"],[1,"text-center","mt-3","mb-3","text-xl","font-semibold"],[1,"field","p-fluid"],[1,"pi","pi-user"],["formControlName","name","pInputText","","id","name","type","text","placeholder","Nombres","required",""],["formControlName","last_name","pInputText","","id","last_name","type","text","placeholder","Nombres","required",""],[1,"pi","pi-phone"],["formControlName","telf","pInputText","","id","telf","type","text","placeholder","Tel\xe9fono","required",""],[1,"pi","pi-envelope"],["formControlName","email","pInputText","","id","email","type","email","placeholder","Correo","required",""],["styleClass"," mb-5","inputStyleClass","w-full p-3 md:w-30rem","formControlName","password","placeholder","Contrase\xf1a","required","",3,"toggleMask"],["styleClass"," mb-5","inputStyleClass","w-full p-3 md:w-30rem","formControlName","passwordConfirmation","placeholder","Confirmaci\xf3n de Contrase\xf1a","required","",3,"toggleMask"],[1,"flex","pt-4","justify-content-between"],["formControlName","checked",3,"onChange"],["for",""],["icon","pi pi-external-link","label","ver","type","button",3,"click","text","raised"],["label","Enviar","icon","pi pi-check","iconPos","right","type","submit",3,"disabled"],[1,"mt-6","text-center","text-600"],[4,"ngIf"],["tabindex","0",1,"font-medium","text-blue-500",3,"routerLink"],[1,"w-full","lg:w-6","p-4","lg:p-7",2,"background-color","rgba(255, 255, 255, 0.7)"],["src","assets/icon/logo.png","alt","Image","height","50",1,"mb-6"],[1,"text-xl","text-900","font-500","mb-3"],[1,"text-600","line-height-3","mt-0","mb-6"],[1,"list-none","p-0","m-0"],[1,"flex","align-items-start","mb-4"],[1,"flex","align-items-center","justify-content-center","bg-purple-400",2,"width","38px","height","38px","border-radius","10px"],[1,"text-xl","text-white","pi","pi-inbox"],[1,"ml-3"],[1,"font-medium","text-900"],[1,"mt-2","mb-0","text-600","line-height-3"],[1,"text-xl","text-white","pi","pi-shield"],[1,"flex","align-items-start"],[1,"text-xl","text-white","pi","pi-globe"],["header","Cargada de datos",3,"visibleChange","visible"],[2,"display","flex","justify-content","center"],["ariaLabel","loading"],["severity","danger"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-times","text-xs"],[1,"text-base"]],template:function(r,i){1&r&&(e.j41(0,"div",0),e.nrm(1,"p-toast"),e.j41(2,"div",1)(3,"div",2)(4,"form",3),e.bIt("ngSubmit",function(){return i.registrarse()}),e.j41(5,"div",4)(6,"div",5),e.EFF(7," Informaci\xf3n de contacto "),e.k0s(),e.j41(8,"div",6)(9,"p-iconField")(10,"p-inputIcon"),e.nrm(11,"i",7),e.k0s(),e.nrm(12,"input",8),e.k0s()(),e.j41(13,"div",6)(14,"p-iconField")(15,"p-inputIcon"),e.nrm(16,"i",7),e.k0s(),e.nrm(17,"input",9),e.k0s()(),e.j41(18,"div",6)(19,"p-iconField")(20,"p-inputIcon"),e.nrm(21,"i",10),e.k0s(),e.nrm(22,"input",11),e.k0s()(),e.j41(23,"div",6)(24,"p-iconField")(25,"p-inputIcon"),e.nrm(26,"i",12),e.k0s(),e.nrm(27,"input",13),e.k0s()(),e.j41(28,"div",6),e.nrm(29,"p-password",14)(30,"p-password",15),e.k0s(),e.j41(31,"div",16)(32,"p-inputSwitch",17),e.bIt("onChange",function(){return i.ver()}),e.k0s(),e.j41(33,"label",18),e.EFF(34," Estas de acuerdo con nuestras politicas de seguridad? "),e.k0s(),e.j41(35,"p-button",19),e.bIt("click",function(){return i.llamarmodal()}),e.k0s()(),e.j41(36,"div",16),e.nrm(37,"p-button",20),e.k0s()()(),e.j41(38,"div",21),e.DNE(39,N,6,1,"div",22)(40,z,6,1,"div",22)(41,D,6,1,"div",22)(42,J,6,1,"div",22)(43,V,6,1,"div",22)(44,B,6,1,"div",22),e.k0s(),e.j41(45,"div",21),e.EFF(46," Ya tienes una cuenta? "),e.j41(47,"a",23),e.EFF(48,"Incia sesi\xf3n"),e.k0s()()(),e.j41(49,"div",24),e.nrm(50,"img",25),e.j41(51,"div",26),e.EFF(52," Bienvido Esmeraldas "),e.k0s(),e.j41(53,"p",27),e.EFF(54," Su privacidad es importante para nosotros. Los datos que nos proporcione son estrictamente confidenciales y no ser\xe1n compartidos con terceros. Solo recopilamos informaci\xf3n esencial para establecer contacto y brindarle el mejor servicio posible. "),e.k0s(),e.j41(55,"ul",28)(56,"li",29)(57,"div")(58,"span",30),e.nrm(59,"i",31),e.k0s()(),e.j41(60,"div",32)(61,"span",33),e.EFF(62,"Denuncias e Incidentes"),e.k0s(),e.j41(63,"p",34),e.EFF(64," Esta funci\xf3n est\xe1 dise\xf1ada para recopilar informaci\xf3n sobre cualquier inconveniente dentro del poblado, permiti\xe9ndonos brindar una r\xe1pida respuesta a la ciudadan\xeda. "),e.k0s()()(),e.j41(65,"li",29)(66,"div")(67,"span",30),e.nrm(68,"i",35),e.k0s()(),e.j41(69,"div",32)(70,"span",33),e.EFF(71,"Seguridad"),e.k0s(),e.j41(72,"p",34),e.EFF(73," Nos comprometemos a asegurar sus datos y a no divulgarlos bajo ninguna circunstancia. "),e.k0s()()(),e.j41(74,"li",36)(75,"div")(76,"span",30),e.nrm(77,"i",37),e.k0s()(),e.j41(78,"div",32)(79,"span",33),e.EFF(80,"Disponibilidad garantizada"),e.k0s(),e.j41(81,"p",34),e.EFF(82," Nuestro sitio web est\xe1 dise\xf1ado para garantizar su disponibilidad las 24 horas del d\xeda, los 7 d\xedas de la semana, para que pueda acceder a \xe9l en cualquier momento que lo necesite. "),e.k0s()()()()()()(),e.j41(83,"p-dialog",38),e.mxI("visibleChange",function(l){return e.DH7(i.visible,l)||(i.visible=l),l}),e.j41(84,"div",39),e.nrm(85,"p-progressSpinner",40),e.k0s()()),2&r&&(e.R7$(4),e.Y8G("formGroup",i.formulario),e.R7$(25),e.Y8G("toggleMask",!0),e.R7$(),e.Y8G("toggleMask",!0),e.R7$(5),e.Y8G("text",!0)("raised",!0),e.R7$(2),e.Y8G("disabled",!i.formulario.get("checked").value),e.R7$(2),e.Y8G("ngIf",i.formulario.get("name").invalid&&(i.formulario.get("name").dirty||i.formulario.get("name").touched)),e.R7$(),e.Y8G("ngIf",i.formulario.get("last_name").invalid&&(i.formulario.get("last_name").dirty||i.formulario.get("last_name").touched)),e.R7$(),e.Y8G("ngIf",i.formulario.get("telf").invalid&&(i.formulario.get("telf").dirty||i.formulario.get("telf").touched)),e.R7$(),e.Y8G("ngIf",i.formulario.get("email").invalid&&(i.formulario.get("email").dirty||i.formulario.get("email").touched)),e.R7$(),e.Y8G("ngIf",i.formulario.get("password").invalid&&(i.formulario.get("password").dirty||i.formulario.get("password").touched)),e.R7$(),e.Y8G("ngIf",i.formulario.get("passwordConfirmation").invalid&&(i.formulario.get("passwordConfirmation").dirty||i.formulario.get("passwordConfirmation").touched)),e.R7$(3),e.Y8G("routerLink","/auth/login"),e.R7$(36),e.Aen(e.lJ4(16,A)),e.R50("visible",i.visible))},dependencies:[C.bT,u.Wk,s.qT,s.me,s.BC,s.cb,s.YS,s.j4,s.JD,x.C,E.m,j.$n,S.y8,b.l,R.v,I.S,M.HW,G._2,L.p],styles:['.p-inputtext[_ngcontent-%COMP%], .p-password[_ngcontent-%COMP%]{height:50px;font-size:1.1rem!important}.p-dialog-content[_ngcontent-%COMP%]{display:"flex"!important;justify-content:"center"!important}']})}return n})(),Z=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.$C({type:n});static#i=this.\u0275inj=e.G2t({imports:[u.iI.forChild([{path:"",component:O}]),u.iI]})}return n})();var W=t(6307),H=t(2247),K=t(3036),Q=t(6301),k=t(5060),w=t(6576),q=t(2226),_=t(9601),ee=t(51),te=t(6930),ie=t(292),ae=t(5201),ne=t(4576),re=t(5145),se=t(3437),oe=t(9914),le=t(9517),me=t(9821),de=t(4654),ge=t(2722),pe=t(5294),ve=t(9114),ue=t(3943),ce=t(4528),fe=t(5635),he=t(4503),ye=t(2908),Ce=t(5883),Fe=t(2629),xe=t(1846),Ee=t(5927),je=t(1944),Se=t(6202),be=t(6048),Re=t(6911),Ie=t(5686),Me=t(9708),Ge=t(7534),Le=t(1377),Te=t(9764),$e=t(8227),Pe=t(1806),Ue=t(3673),Ye=t(569),Xe=t(81),Ae=t(4892),Ne=t(8451),ze=t(6374),De=t(6020),Je=t(5041),Ve=t(9552),Be=t(2438),Oe=t(3037),Ze=t(2402),We=t(9069),He=t(5483),Ke=t(2565),Qe=t(4870),ke=t(8061),we=t(492),qe=t(8354),_e=t(3906),et=t(3933),tt=t(230),it=t(6456),at=t(5357),nt=t(8629),rt=t(7859),st=t(1735),ot=t(4549),lt=t(9098),mt=t(351),dt=t(5084),gt=t(1876),pt=t(8886),vt=t(4599),ut=t(727),ct=t(2017),ft=t(9776),ht=t(9901),yt=t(5600),Ct=t(3009),Ft=t(6902),xt=t(2162),Et=t(4471);let jt=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.$C({type:n});static#i=this.\u0275inj=e.G2t({providers:[F.bg,g.o3,g.Pw],imports:[C.MD,Z,s.YN,s.X1,Ke.n,Se.I,je.k,x.A,E.y,qe.a,S.MB,s.YN,s.X1,H.$$,nt.bG,b.P,R.$,ye.wn,be.U,he.e,q.rO,ue.kr,I.u,Qe.k,ct.dL,xt.eh,W.h6,K.m,Q.t,k.EJ,w._,j.tm,_.R,ee.tQ,te.F,ie.q4,ae.P,ne.AV,re.F,se.H,oe.YG,le.rc,me.KQ,de.y,ge.m,pe.C,ve.ad,g.k_,ce.sv,fe.P,Ce.HV,Fe.Zn,M.H_,xe.O3,Ee.f,Re.jJ,Ie.UW,Me.Qp,Ge.Mk,Le.N9,Te.u,$e.h,Pe.iV,Ue.N,Ye.ux,Xe.d,Ae.I,Ne.b,ze.M6,G.Ou,De.W,Je.d,Ve.Ko,Be.wZ,Oe.h,Ze.M,We.F,He.xs,ke.dG,we.SW,_e.OT,et.J,tt.i,it.U,at.Z,rt.fd,st.bx,ot.ht,lt.i,mt.d0,dt.m,gt.S,pt.AG,vt.ft,ut.VG,ft.y,ht.D,yt.S,L.d,Ct.Z,Ft.y,Et.f]})}return n})()}}]);