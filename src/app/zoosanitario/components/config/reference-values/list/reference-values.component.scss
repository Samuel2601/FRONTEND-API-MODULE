// =============================================================================
// REFERENCE VALUES COMPONENT - MODERN REDESIGN
// =============================================================================

:host {
    // Modern Color Palette
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    --warning-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --info-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);

    // Glass morphism effects
    --glass-bg: rgba(255, 255, 255, 0.25);
    --glass-border: rgba(255, 255, 255, 0.18);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);

    // Modern spacing
    --space-xs: 0.5rem;
    --space-sm: 0.75rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;

    // Border radius
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;

    // Typography
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
}

// =============================================================================
// MAIN CONTAINER WITH MODERN LAYOUT
// =============================================================================

.reference-values-container {
    min-height: 100vh;
    //background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: var(--space-xl) var(--space-lg);
    position: relative;

    // Background pattern
    &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: radial-gradient(
                circle at 25% 25%,
                rgba(255, 255, 255, 0.1) 0%,
                transparent 50%
            ),
            radial-gradient(
                circle at 75% 75%,
                rgba(255, 255, 255, 0.05) 0%,
                transparent 50%
            );
        pointer-events: none;
    }

    // Modern page header
    .page-header {
        margin-bottom: var(--space-2xl);
        text-align: center;
        position: relative;
        z-index: 1;

        h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: var(--font-weight-bold);
            color: var(--text-color);
            margin: 0 0 var(--space-sm) 0;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: var(--text-color);
            font-size: 1.125rem;
            margin: 0 0 var(--space-xl) 0;
            font-weight: var(--font-weight-medium);
        }

        .header-actions {
            display: flex;
            justify-content: center;
            gap: var(--space-md);
        }
    }
}

// =============================================================================
// MODERN CARD SYSTEM
// =============================================================================

::ng-deep .p-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--glass-shadow);
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    &:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .p-card-header {
        background: linear-gradient(
            135deg,
            rgba(255, 255, 255, 0.2),
            rgba(255, 255, 255, 0.1)
        );
        border-bottom: 1px solid var(--glass-border);
        padding: var(--space-lg) var(--space-xl);
        font-weight: var(--font-weight-semibold);
        color: white;
        font-size: 1.125rem;
    }

    .p-card-content {
        padding: var(--space-xl);
        color: white;
    }
}

// =============================================================================
// QUICK ACTIONS - REDESIGNED
// =============================================================================

.quick-actions-card {
    .quick-actions {
        display: grid;
        gap: var(--space-lg);

        .action-item {
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.15),
                rgba(255, 255, 255, 0.05)
            );
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;

            &::before {
                content: "";
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    90deg,
                    transparent,
                    rgba(255, 255, 255, 0.2),
                    transparent
                );
                transition: left 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            }

            &:hover {
                transform: translateY(-4px) scale(1.02);
                border-color: rgba(255, 255, 255, 0.4);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);

                &::before {
                    left: 100%;
                }

                .action-icon {
                    transform: scale(1.1) rotate(5deg);
                }

                .pi-chevron-right {
                    transform: translateX(8px) scale(1.2);
                }
            }

            .action-icon {
                width: 4rem;
                height: 4rem;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin-bottom: var(--space-md);
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                position: relative;

                &::after {
                    content: "";
                    position: absolute;
                    inset: -4px;
                    border-radius: inherit;
                    background: inherit;
                    opacity: 0.3;
                    filter: blur(8px);
                }

                &.rbu-icon {
                    background: var(--success-gradient);
                    box-shadow: 0 8px 25px rgba(17, 153, 142, 0.4);
                }

                &.sbu-icon {
                    background: var(--info-gradient);
                    box-shadow: 0 8px 25px rgba(79, 172, 254, 0.4);
                }
            }

            .action-content {
                flex: 1;

                h4 {
                    font-size: 1.25rem;
                    font-weight: var(--font-weight-semibold);
                    color: white;
                    margin: 0 0 var(--space-sm) 0;
                }

                p {
                    color: rgba(255, 255, 255, 0.8);
                    margin: 0;
                    font-size: 1rem;
                    font-weight: var(--font-weight-medium);
                }
            }

            .pi-chevron-right {
                color: rgba(255, 255, 255, 0.6);
                font-size: 1.25rem;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
        }
    }
}

// =============================================================================
// RECENT UPDATES - MODERN TIMELINE
// =============================================================================

.recent-updates-card {
    .recent-updates {
        .update-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-lg) 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;

            &::before {
                content: "";
                position: absolute;
                left: -20px;
                top: 0;
                bottom: 0;
                width: 3px;
                background: var(--primary-gradient);
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            &:hover {
                background: rgba(255, 255, 255, 0.05);
                padding-left: var(--space-md);
                padding-right: var(--space-md);
                margin: 0 calc(-1 * var(--space-md));
                border-radius: var(--radius-sm);

                &::before {
                    opacity: 1;
                }
            }

            &:last-child {
                border-bottom: none;
            }

            .update-info {
                .update-code {
                    background: rgba(255, 255, 255, 0.15);
                    color: white;
                    padding: var(--space-xs) var(--space-sm);
                    border-radius: var(--radius-sm);
                    font-family: "SF Mono", "Monaco", "Consolas", monospace;
                    font-size: 0.875rem;
                    font-weight: var(--font-weight-semibold);
                    display: inline-block;
                    margin-bottom: var(--space-xs);
                }

                .update-date {
                    color: rgba(255, 255, 255, 0.6);
                    font-size: 0.75rem;
                }
            }

            .update-value {
                display: flex;
                align-items: center;
                gap: var(--space-sm);
                font-size: 0.875rem;

                .old-value {
                    color: rgba(255, 255, 255, 0.5);
                    text-decoration: line-through;
                    font-family: "SF Mono", "Monaco", "Consolas", monospace;
                }

                .new-value {
                    color: #38ef7d;
                    font-weight: var(--font-weight-semibold);
                    font-family: "SF Mono", "Monaco", "Consolas", monospace;
                }

                .pi-arrow-right {
                    color: rgba(255, 255, 255, 0.4);
                }
            }
        }

        .empty-updates {
            text-align: center;
            padding: var(--space-2xl);
            color: rgba(255, 255, 255, 0.6);

            .pi {
                font-size: 3rem;
                margin-bottom: var(--space-lg);
                opacity: 0.3;
            }
        }
    }
}

// =============================================================================
// FILTERS - MODERN SEARCH INTERFACE
// =============================================================================

.filters-card {
    margin-bottom: var(--space-xl);

    .filters-content {
        .grid {
            gap: var(--space-lg);
        }

        label {
            color: white;
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-sm);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
    }
}

// =============================================================================
// MODERN TABLE STYLING
// =============================================================================

.table-card {
    .reference-values-table {
        .code-cell {
            .value-code {
                background: linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.2),
                    rgba(255, 255, 255, 0.1)
                );
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: white;
                padding: var(--space-xs) var(--space-md);
                border-radius: var(--radius-sm);
                font-family: "SF Mono", "Monaco", "Consolas", monospace;
                font-weight: var(--font-weight-semibold);
                font-size: 0.875rem;
                display: inline-block;

                &.code-rbu {
                    background: var(--success-gradient);
                    box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);
                }

                &.code-sbu {
                    background: var(--info-gradient);
                    box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
                }

                &.code-iva {
                    background: var(--warning-gradient);
                    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
                }
            }

            .system-tag {
                background: rgba(255, 255, 255, 0.15);
                color: white;
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
        }

        .name-cell {
            .value-name {
                color: white;
                font-weight: var(--font-weight-semibold);
                font-size: 1rem;
            }

            .value-description {
                color: rgba(255, 255, 255, 0.7);
                font-size: 0.875rem;
            }
        }

        .value-cell {
            .current-value {
                color: white;
                font-weight: var(--font-weight-bold);
                font-size: 1.25rem;
                font-family: "SF Mono", "Monaco", "Consolas", monospace;

                &.value-monetary {
                    color: #38ef7d;
                    text-shadow: 0 0 20px rgba(56, 239, 125, 0.5);
                }

                &.value-percentage {
                    color: #00f2fe;
                    text-shadow: 0 0 20px rgba(0, 242, 254, 0.5);
                }
            }
        }

        .priority-badge {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: var(--font-weight-bold);
            color: white;
            position: relative;

            &::after {
                content: "";
                position: absolute;
                inset: -2px;
                border-radius: inherit;
                background: inherit;
                opacity: 0.3;
                filter: blur(4px);
                z-index: -1;
            }

            &.priority-1 {
                background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            }

            &.priority-2 {
                background: linear-gradient(135deg, #ffa726, #ff7043);
            }

            &.priority-3 {
                background: linear-gradient(135deg, #ffeb3b, #ffc107);
            }

            &.priority-4,
            &.priority-5 {
                background: var(--success-gradient);
            }
        }

        .empty-state {
            padding: var(--space-2xl);
            text-align: center;
            color: white;

            .empty-icon {
                font-size: 4rem;
                opacity: 0.3;
                margin-bottom: var(--space-xl);
            }

            h3 {
                font-size: 1.5rem;
                margin-bottom: var(--space-md);
                font-weight: var(--font-weight-semibold);
            }

            p {
                font-size: 1rem;
                opacity: 0.8;
                margin-bottom: var(--space-xl);
            }
        }
    }
}

// =============================================================================
// MODERN BUTTONS
// =============================================================================

::ng-deep .p-button {
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.2),
        rgba(255, 255, 255, 0.1)
    );
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-lg);
    color: white;
    font-weight: var(--font-weight-semibold);
    padding: var(--space-md) var(--space-xl);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;

    &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            135deg,
            rgba(255, 255, 255, 0.1),
            transparent
        );
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    &:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        border-color: rgba(255, 255, 255, 0.5);

        &::before {
            opacity: 1;
        }
    }

    &:active {
        transform: translateY(0);
    }

    // Primary button
    &:not(.p-button-secondary):not(.p-button-text) {
        background: var(--success-gradient);
        border-color: transparent;
        box-shadow: 0 8px 25px rgba(17, 153, 142, 0.4);

        &:hover {
            box-shadow: 0 15px 35px rgba(17, 153, 142, 0.6);
        }
    }

    // Secondary button
    &.p-button-secondary {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(255, 255, 255, 0.2);
    }

    // Text button
    &.p-button-text {
        background: transparent;
        border: none;

        &:hover {
            background: rgba(255, 255, 255, 0.1);
        }
    }
}

// =============================================================================
// MODERN INPUTS
// =============================================================================

::ng-deep {
    .p-inputtext,
    .p-dropdown,
    .p-calendar,
    .p-inputnumber input {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: var(--radius-md);
        color: white;
        padding: var(--space-md);
        transition: all 0.3s ease;

        &::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        &:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
            outline: none;
        }
    }

    .p-dropdown {
        .p-dropdown-label {
            color: white;
        }

        .p-dropdown-trigger {
            color: rgba(255, 255, 255, 0.7);
        }
    }

    .p-calendar {
        .p-datepicker-trigger {
            color: rgba(255, 255, 255, 0.7);
        }
    }
}

// =============================================================================
// MODERN DIALOGS
// =============================================================================

::ng-deep .p-dialog {
    .p-dialog-content {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: var(--radius-lg);
        overflow: hidden;
    }

    .p-dialog-header {
        background: rgba(255, 255, 255, 0.1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        color: white;

        .p-dialog-title {
            font-weight: var(--font-weight-semibold);
        }
    }

    .p-dialog-footer {
        background: rgba(255, 255, 255, 0.05);
        border-top: 1px solid rgba(255, 255, 255, 0.2);
    }
}

// =============================================================================
// RESPONSIVE DESIGN
// =============================================================================

@media (max-width: 768px) {
    .reference-values-container {
        padding: var(--space-lg) var(--space-md);

        .page-header {
            h1 {
                font-size: 2rem;
            }
        }
    }

    .quick-actions-card {
        .quick-actions {
            .action-item {
                padding: var(--space-lg);

                .action-icon {
                    width: 3rem;
                    height: 3rem;
                    font-size: 1.25rem;
                }

                .action-content h4 {
                    font-size: 1.125rem;
                }
            }
        }
    }

    ::ng-deep .p-card {
        .p-card-content {
            padding: var(--space-lg);
        }
    }
}

@media (max-width: 576px) {
    :host {
        --space-xl: 1.5rem;
        --space-2xl: 2rem;
    }

    .quick-actions-card {
        .quick-actions {
            gap: var(--space-md);
        }
    }
}
