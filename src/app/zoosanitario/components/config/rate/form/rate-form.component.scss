:host {
    .rate-form {
        .grid {
            margin: 0;

            .col-12,
            .col-6,
            .col-4 {
                padding: 0.75rem;
            }
        }

        .section-title {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-color);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        label {
            color: var(--text-color);
            font-weight: 600;
            font-size: 0.9rem;

            .required {
                color: #ef4444;
                font-weight: 700;
            }
        }

        // Inputs
        .p-inputtext,
        .p-inputtextarea {
            border: 2px solid var(--surface-border);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            font-size: 0.9rem;
            transition: all 0.3s ease;

            &:focus {
                border-color: var(--primary-color);
                box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.1);
            }

            &.ng-invalid.ng-touched {
                border-color: #ef4444;

                &:focus {
                    border-color: #ef4444;
                    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
                }
            }

            &::placeholder {
                color: var(--text-color-secondary);
                opacity: 0.7;
            }
        }

        // Dropdowns
        .p-dropdown {
            border: 2px solid var(--surface-border);
            border-radius: 8px;
            transition: all 0.3s ease;

            .p-dropdown-label {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            &:not(.p-disabled):hover {
                border-color: var(--primary-color-text);
            }

            &:not(.p-disabled).p-focus {
                border-color: var(--primary-color);
                box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.1);
            }

            &.ng-invalid.ng-touched {
                border-color: #ef4444;

                &.p-focus {
                    border-color: #ef4444;
                    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
                }
            }
        }

        // InputNumber
        .p-inputnumber {
            .p-inputtext {
                text-align: right;
                font-weight: 600;
            }

            &.ng-invalid .p-inputtext {
                border-color: #ef4444;
            }
        }

        // Calendar
        .p-calendar {
            .p-inputtext {
                padding-right: 3rem;
            }

            .p-datepicker-trigger {
                right: 0.75rem;
                color: var(--text-color-secondary);
            }

            &.ng-invalid .p-inputtext {
                border-color: #ef4444;
            }
        }

        // Checkbox
        .field-checkbox {
            display: flex;
            align-items: center;
            padding: 1rem 0;

            .p-checkbox {
                .p-checkbox-box {
                    border: 2px solid var(--surface-border);
                    border-radius: 4px;
                    width: 1.25rem;
                    height: 1.25rem;
                    transition: all 0.3s ease;

                    &.p-highlight {
                        background: var(--primary-color);
                        border-color: var(--primary-color);
                    }
                }
            }

            label {
                font-size: 1rem;
                font-weight: 500;
                cursor: pointer;
            }
        }

        // Error messages
        .p-error {
            color: #ef4444;
            font-size: 0.8rem;
            font-weight: 500;
            margin-top: 0.25rem;
        }

        // Info messages
        .text-600 {
            font-size: 0.8rem;
            font-style: italic;
            color: var(--text-color-secondary);
        }

        // Buttons
        .p-button {
            border-radius: 8px;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: 2px solid transparent;

            &.p-button-success {
                background: linear-gradient(45deg, #22c55e, #16a34a);
                border-color: #22c55e;

                &:hover:not(:disabled) {
                    background: linear-gradient(45deg, #16a34a, #15803d);
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
                }
            }

            &.p-button-outlined {
                background: transparent;
                color: var(--text-color);
                border-color: var(--surface-border);

                &:hover:not(:disabled) {
                    background: var(--surface-100);
                    border-color: var(--text-color);
                    transform: translateY(-1px);
                }
            }

            &:disabled {
                opacity: 0.6;
                cursor: not-allowed;
            }

            &:focus {
                outline: 2px solid var(--primary-color);
                outline-offset: 2px;
            }
        }

        // Responsive adjustments
        @media screen and (max-width: 768px) {
            .grid {
                .col-12,
                .col-6,
                .col-4 {
                    padding: 0.5rem;
                }
            }

            .section-title {
                font-size: 1rem;
                margin-bottom: 0.75rem;
            }

            label {
                font-size: 0.85rem;
            }

            .p-inputtext,
            .p-inputtextarea {
                padding: 0.6rem 0.8rem;
                font-size: 0.85rem;
            }

            .p-dropdown .p-dropdown-label {
                padding: 0.6rem 0.8rem;
                font-size: 0.85rem;
            }

            .p-button {
                padding: 0.6rem 1.25rem;
                font-size: 0.85rem;
                width: 100%;
                margin-bottom: 0.5rem;
            }

            .flex.justify-content-end {
                flex-direction: column;

                .gap-2 {
                    gap: 0;
                }
            }
        }

        @media screen and (max-width: 576px) {
            .grid {
                .col-12,
                .col-6,
                .col-4 {
                    padding: 0.25rem;
                }
            }

            .p-inputtext,
            .p-inputtextarea,
            .p-dropdown .p-dropdown-label {
                font-size: 0.8rem;
            }
        }
    }

    // Animations
    .p-inputtext,
    .p-inputtextarea,
    .p-dropdown {
        &:focus {
            animation: focusGlow 0.3s ease;
        }
    }

    @keyframes focusGlow {
        0% {
            box-shadow: 0 0 0 0 rgba(var(--primary-color-rgb), 0.3);
        }

        100% {
            box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.1);
        }
    }

    // Loading state
    .p-button .pi-spinner {
        animation-duration: 1s;
    }

    // Improved contrast for accessibility
    .p-error,
    .required {
        font-weight: 700;
    }

    // Dark theme adjustments
    :host-context(.dark-theme) {
        .section-title {
            border-bottom-color: rgba(var(--primary-color-rgb), 0.8);
        }

        .p-inputtext,
        .p-inputtextarea,
        .p-dropdown {
            background: var(--surface-100);

            &:focus {
                background: var(--surface-0);
            }
        }
    }
}

// Focus visible for better accessibility
:focus-visible {
    outline: 2px solid var(--primary-color) !important;
    outline-offset: 2px !important;
}

// Print styles
@media print {
    :host {
        .p-button {
            display: none !important;
        }

        .section-title {
            color: #000 !important;
            border-bottom-color: #000 !important;
        }
    }
}
