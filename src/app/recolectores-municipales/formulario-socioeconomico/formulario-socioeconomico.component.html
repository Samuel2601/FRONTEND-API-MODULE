<p-card
    header="Formulario Socio Económico"
    subheader="Rellena la siguiente información: "
>
    <ng-template pTemplate="header">
        <img
            alt="Card"
            src="https://primefaces.org/cdn/primeng/images/card-ng.jpg"
        />
    </ng-template>
    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <!-- Información de Registro -->
        <p-card header="Información de Registro">
            <div
                class="flex flex-wrap gap-3 p-fluid"
                formGroupName="informacionRegistro"
            >
                <div class="flex-auto">
                    <label for="date">Fecha</label>
                    <p-calendar
                        formControlName="date"
                        [showTime]="true"
                        [required]="true"
                    >
                    </p-calendar>
                </div>
                <div class="flex-auto">
                    <label for="encuestador">Encuestador</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="encuestador"
                        [required]="true"
                    />
                </div>
            </div>
        </p-card>

        <!-- Información Personal -->
        <p-card header="Información Personal">
            <div
                class="flex flex-wrap gap-3 p-fluid"
                formGroupName="informacionPersonal"
            >
                <div class="flex-auto">
                    <label for="entrevistado">Entrevistado</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="entrevistado"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="dni">Cédula</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="dni"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="edad">Edad</label>
                    <p-inputNumber
                        formControlName="edad"
                        placeholder="Edad"
                        [required]="true"
                    >
                    </p-inputNumber>
                </div>
                <div class="flex-auto">
                    <label for="nacionalidad">Nacionalidad</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="nacionalidad"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="phone">Teléfono</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="phone"
                        [required]="true"
                    />
                </div>
            </div>
        </p-card>

        <!-- Información de Ubicación -->
        <p-card header="Información de Ubicación">
            <div
                class="flex flex-wrap gap-3 p-fluid"
                formGroupName="informacionUbicacion"
            >
                <div class="flex-auto">
                    <label for="posesionTime">Tiempo de Posesión</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="posesionTime"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="sector">Sector</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="sector"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="barrio">Barrio</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="barrio"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="manzana">Manzana</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="manzana"
                        placeholder="Manzana"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="lotenumero">Número de Lote</label>
                    <input
                        type="text"
                        pInputText
                        formControlName="lotenumero"
                        [required]="true"
                    />
                </div>
                <div class="flex-auto">
                    <label for="familyCount">Número de Familias</label>
                    <p-inputNumber
                        formControlName="familyCount"
                        [required]="true"
                    >
                    </p-inputNumber>
                </div>
                <div class="flex-auto">
                    <label for="peopleCount">Número de Personas</label>
                    <p-inputNumber
                        formControlName="peopleCount"
                        [required]="true"
                    >
                    </p-inputNumber>
                </div>
                <div class="flex-auto">
                    <label for="houseState">Estado de la Casa</label>
                    <p-dropdown
                        formControlName="houseState"
                        [options]="houseStateOptions"
                        [required]="true"
                    >
                    </p-dropdown>
                </div>
            </div>
        </p-card>

        <!-- Salud -->
        <p-card header="Salud">
            <div class="flex flex-wrap gap-3 p-fluid" formGroupName="salud">
                <div class="flex-auto">
                    <label for="estadoSalud">Estado de Salud</label>
                    <p-dropdown
                        formControlName="estadoSalud"
                        [options]="estadoSaludOptions"
                        [required]="true"
                    >
                    </p-dropdown>
                </div>
                <div class="flex-auto">
                    <label for="causasSalud">Causas de Salud</label>
                    <p-multiSelect
                        formControlName="causasSalud"
                        [options]="causasSaludOptions"
                        [required]="true"
                    >
                    </p-multiSelect>
                </div>
                <div class="flex-auto">
                    <label for="customCausaControl"
                        >Otra causa (especificar)</label
                    >
                    <p-inputGroup>
                        <input
                            type="text"
                            pInputText
                            [formControl]="customCausaControl"
                            (keyup.enter)="addCausa()"
                        />
                        <button type="button" pButton icon="pi pi-plus" label="Agregar Causa" class="p-button-success" (click)="addCausa()"></button>
                    </p-inputGroup>
                </div>
                <div class="flex-auto">
                    <label for="conexionHigienico">Conexión Higiénica</label>
                    <p-dropdown
                        formControlName="conexionHigienico"
                        [options]="conexionHigienicoOptions"
                        placeholder="Conexión Higiénica"
                        [required]="true"
                    >
                    </p-dropdown>
                </div>
            </div>
        </p-card>

        <!-- Botón de Envío -->
        <div class="p-mt-3">
            <p-button
                type="submit"
                label="Enviar"
                [disabled]="registrationForm.invalid"
            >
            </p-button>
        </div>
    </form>
</p-card>
